# Environment Variables Template
# Copiar a .env y completar con valores reales

# ============================================
# ENTORNO GENERAL
# ============================================
NODE_ENV=development
DEBUG=false

# ============================================
# INFRAESTRUCTURA
# ============================================

# PostgreSQL
DB_HOST=postgres
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=users_db
DB_CONNECTION_POOL_SIZE=10

# MongoDB
MONGO_URL=mongodb://mongo:27017

# Redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=

# RabbitMQ
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_VHOST=/

# Qdrant
QDRANT_URL=http://qdrant:6333
QDRANT_API_KEY=

# ============================================
# API GATEWAY
# ============================================
GATEWAY_PORT=3000
GATEWAY_LOG_LEVEL=info

# URLs de Servicios (Docker Compose)
AUTH_SERVICE_URL=http://auth-service:3001
USERS_SERVICE_URL=http://user-service:3002
ROLES_SERVICE_URL=http://role-service:3003
AI_SERVICE_URL=http://ai-service:3004
AUDIT_SERVICE_URL=http://audit-service:3005

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
CORS_CREDENTIALS=true

# ============================================
# AUTH SERVICE
# ============================================
AUTH_PORT=3001

# JWT
JWT_SECRET=your_super_secret_key_change_in_production
JWT_EXPIRATION=3600
JWT_REFRESH_EXPIRATION=86400

# Seguridad
BCRYPT_ROUNDS=10
MAX_LOGIN_ATTEMPTS=5
LOGIN_ATTEMPT_WINDOW_MS=900000

# ============================================
# USER SERVICE
# ============================================
USER_SERVICE_PORT=3002

# S3 para fotos de perfil
S3_BUCKET=user-profiles
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=

# ============================================
# ROLE SERVICE
# ============================================
ROLE_SERVICE_PORT=3003

# ============================================
# AI SERVICE
# ============================================
AI_SERVICE_PORT=3004

# OpenAI
OPENAI_API_KEY=sk-
OPENAI_ORG_ID=

# Modelos
AI_MODEL_CHAT=gpt-4
AI_MODEL_EMBEDDING=text-embedding-3-small

# Rate Limiting AI
AI_RATE_LIMIT_CALLS_PER_MINUTE=60
AI_MAX_TOKENS=2000

# Cache
CACHE_TTL=3600

# ============================================
# AUDIT SERVICE
# ============================================
AUDIT_SERVICE_PORT=3005

# Retención de logs
LOG_RETENTION_DAYS=90

# Alertas
ALERT_THRESHOLD_FAILED_LOGINS=5
ALERT_THRESHOLD_BULK_OPERATIONS=50

# ============================================
# LOGGING & MONITORING
# ============================================
LOG_LEVEL=info
LOG_FORMAT=json

# Sentry (error tracking)
SENTRY_DSN=

# ============================================
# DESARROLLO LOCAL
# ============================================
# Para ejecutar servicios localmente sin Docker
POSTGRES_SYNC=true    # Sincronizar BD al iniciar
SEED_DATABASE=false   # Completar datos de prueba

# ============================================
# PRODUCCIÓN
# ============================================
# (NO incluir en .env de producción, usar secrets management)
# DATABASE_URL=postgres://user:pass@host:5432/db
# JWT_SECRET=<usar AWS Secrets Manager o similar>
# API Keys en: AWS Parameter Store, HashiCorp Vault, etc.
